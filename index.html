<html>
<head>
	<meta charset="utf-8">
	<style>
        .header-block {
            display: flex;
            align-items: center;
        }

        h1 {
            margin-right: 32px;
        }

        .locale-select-block {
            display: flex;
            align-items: center;
            font-size: 16px;
            margin-bottom: 32px;
        }

        select {
            font-size: 16px;
        }

        table {
            width: 100%;
        }

        table, th, td {
            border: 1px solid black;
        }

        th, td {
            height: 60px;
            padding: 2px 5px;
        }

        th {
            width: 10%;
        }

        td {
            width: 16%;
            cursor: pointer;
        }

        td:hover {
            background: aliceblue;
        }

        pre {
            font-size: 16px;
        }
	</style>
</head>
<body>
<div class="header-block">
	<h1>Intl.DateTimeFormat cheat sheet</h1>
</div>
<div class="locale-select-block">
	<label for="localesSelect">Select locale:</label>
	<select name="localesSelect" id="localesSelect">
		<option value="auto">use default</option>

		<!-- 
		To reproduce, run:
		curl "https://github.com/chromium/chromium/raw/refs/heads/main/third_party/google-closure-library/closure/goog/i18n/datetimesymbols.js" -L | \
		grep -Po "(?<=\* Date/time formatting symbols for locale )[\w_]+" | \
		sed s/_/-/ | awk '{ print "<option value=\""$0"\">"$0"</option>" }'
		-->
		<!-- <option value="en-ISO">en-ISO</option> -->
		<option value="af">af</option>
		<option value="am">am</option>
		<option value="ar">ar</option>
		<option value="ar-DZ">ar-DZ</option>
		<option value="ar-EG">ar-EG</option>
		<option value="az">az</option>
		<option value="be">be</option>
		<option value="bg">bg</option>
		<option value="bn">bn</option>
		<option value="br">br</option>
		<option value="bs">bs</option>
		<option value="ca">ca</option>
		<option value="chr">chr</option>
		<option value="cs">cs</option>
		<option value="cy">cy</option>
		<option value="da">da</option>
		<option value="de">de</option>
		<option value="de-AT">de-AT</option>
		<option value="de-CH">de-CH</option>
		<option value="el">el</option>
		<option value="en">en</option>
		<option value="en-AU">en-AU</option>
		<option value="en-CA">en-CA</option>
		<option value="en-GB">en-GB</option>
		<option value="en-IE">en-IE</option>
		<option value="en-IN">en-IN</option>
		<option value="en-SG">en-SG</option>
		<option value="en-US">en-US</option>
		<option value="en-ZA">en-ZA</option>
		<option value="es">es</option>
		<option value="es-419">es-419</option>
		<option value="es-ES">es-ES</option>
		<option value="es-MX">es-MX</option>
		<option value="es-US">es-US</option>
		<option value="et">et</option>
		<option value="eu">eu</option>
		<option value="fa">fa</option>
		<option value="fi">fi</option>
		<option value="fil">fil</option>
		<option value="fr">fr</option>
		<option value="fr-CA">fr-CA</option>
		<option value="ga">ga</option>
		<option value="gl">gl</option>
		<option value="gsw">gsw</option>
		<option value="gu">gu</option>
		<option value="haw">haw</option>
		<option value="he">he</option>
		<option value="hi">hi</option>
		<option value="hr">hr</option>
		<option value="hu">hu</option>
		<option value="hy">hy</option>
		<option value="id">id</option>
		<option value="in">in</option>
		<option value="is">is</option>
		<option value="it">it</option>
		<option value="iw">iw</option>
		<option value="ja">ja</option>
		<option value="ka">ka</option>
		<option value="kk">kk</option>
		<option value="km">km</option>
		<option value="kn">kn</option>
		<option value="ko">ko</option>
		<option value="ky">ky</option>
		<option value="ln">ln</option>
		<option value="lo">lo</option>
		<option value="lt">lt</option>
		<option value="lv">lv</option>
		<option value="mk">mk</option>
		<option value="ml">ml</option>
		<option value="mn">mn</option>
		<option value="mo">mo</option>
		<option value="mr">mr</option>
		<option value="ms">ms</option>
		<option value="mt">mt</option>
		<option value="my">my</option>
		<option value="nb">nb</option>
		<option value="ne">ne</option>
		<option value="nl">nl</option>
		<option value="no">no</option>
		<option value="no-NO">no-NO</option>
		<option value="or">or</option>
		<option value="pa">pa</option>
		<option value="pl">pl</option>
		<option value="pt">pt</option>
		<option value="pt-BR">pt-BR</option>
		<option value="pt-PT">pt-PT</option>
		<option value="ro">ro</option>
		<option value="ru">ru</option>
		<option value="sh">sh</option>
		<option value="si">si</option>
		<option value="sk">sk</option>
		<option value="sl">sl</option>
		<option value="sq">sq</option>
		<option value="sr">sr</option>
		<option value="sr-Latn">sr-Latn</option>
		<option value="sv">sv</option>
		<option value="sw">sw</option>
		<option value="ta">ta</option>
		<option value="te">te</option>
		<option value="th">th</option>
		<option value="tl">tl</option>
		<option value="tr">tr</option>
		<option value="uk">uk</option>
		<option value="ur">ur</option>
		<option value="uz">uz</option>
		<option value="vi">vi</option>
		<option value="zh">zh</option>
		<option value="zh-CN">zh-CN</option>
		<option value="zh-HK">zh-HK</option>
		<option value="zh-TW">zh-TW</option>
		<option value="zu">zu</option>

	</select>
	<span id="resolvedLocaleContainer" style="display: none;">
		, resolved locale: <span id="resolvedLocaleBlock"></span>
	</span>
</div>
<table id="predefined-styles-table">
	<tbody>
	<tr>
		<th></th>
		<th colspan="6">dateStyle</th>
	</tr>
	<tr>
		<th rowspan="6">timeStyle</th>
		<th></th>
		<th>–</th>
		<th>short</th>
		<th>medium</th>
		<th>long</th>
		<th>full</th>
	</tr>
	<tr>
		<th>–</th>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<th>short</th>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<th>medium</th>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<th>long</th>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	<tr>
		<th>full</th>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
		<td></td>
	</tr>
	</tbody>
</table>

<pre id="codeTag"></pre>
<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/DateTimeFormat">MDN
	Intl</a>
<a href="https://caniuse.com/?search=Intl">Can I use Intl?</a>
<script>
  const localesSelect = document.getElementById('localesSelect')
  const predefinedStylesTds = document.querySelectorAll('#predefined-styles-table td')
  const codeTag = document.getElementById('codeTag')
  const resolvedLocaleContainer = document.getElementById('resolvedLocaleContainer')
  const resolvedLocaleBlock = document.getElementById('resolvedLocaleBlock')

  localesSelect.addEventListener('change', (e) => {
    const params = new URLSearchParams(document.location.search)
    let locale = e.target.value
    params.set('locale', locale)
    window.history.pushState({ locale: locale }, `Locale – ${ locale }`, `?${ params.toString() }`)
    update(locale)
  })

  predefinedStylesTds.forEach(td => {
    td.addEventListener('click', () => {
      const localeString = localesSelect.value === 'auto' ? 'undefined' : `'${ localesSelect.value }'`
      const lines = [
        `new Intl.DateTimeFormat(${ localeString }, {`,
        td.dataset['dateStyle'] && `    dateStyle: '${ td.dataset['dateStyle'] }',`,
        td.dataset['timeStyle'] && `    timeStyle: '${ td.dataset['timeStyle'] }',`,
        '}).format(new Date())',
        `// ${ td.innerText }`
      ].filter(line => line).join('\n')
      codeTag.innerText = lines
    })
  })

  const updatePredefinedStylesTable = (locale) => {
    const styles = [undefined, 'short', 'medium', 'long', 'full']
    predefinedStylesTds.forEach((td, idx) => {
      const dateStyle = styles[idx % styles.length]
      const timeStyle = styles[Math.floor(idx / styles.length)]
      td.dataset['dateStyle'] = dateStyle || ''
      td.dataset['timeStyle'] = timeStyle || ''
      td.innerText = new Intl.DateTimeFormat(locale === 'auto' ? undefined : locale, {
        dateStyle,
        timeStyle,
      }).format(new Date())
    })
  }

  const update = (locale) => {
    updatePredefinedStylesTable(locale)

    if (locale === 'auto') {
      resolvedLocaleBlock.innerText = Intl.DateTimeFormat().resolvedOptions().locale
      resolvedLocaleContainer.style.display = 'block'
    } else {
      resolvedLocaleContainer.style.display = 'none'
    }
  }

  const init = () => {
    const params = new URLSearchParams(document.location.search)
    const locale = params.get('locale') || 'en-GB'
    params.set('locale', locale)
    localesSelect.value = locale
    window.history.replaceState({ locale }, `Locale – ${ locale }`, `?${ params.toString() }`)
    update(locale)
  }

  init()
</script>
<script async defer src="https://buttons.github.io/buttons.js"></script>
</body>
</html>
